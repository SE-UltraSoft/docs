# 20200406会议纪要  

## 典型用户   
1. 马大哈：经常忘记DDL而错过作业提交截至时间，需要他人的提醒   
2. 小团体：约定开会讨论时间但有错过的风险  
3. Anti-Wechat：对于微信的文件过期的反人类设定的不满的群体，期末需要找学习资料但发现过期  

## 用户等级 (暂定)  
1. 高阶管理员  
2. 普通管理员   
3. 课程负责人   
4. 普通用户  

## 视图  
1. 日历视图，直接显示一个月的所有事项，在每天的方格里面有提醒DDL  
   效果图：![](https://i.niupic.com/images/2020/04/06/7iJp.png)  
2. DDL视图：分条列出DDL，未完成在前，完成在后，时间由近及远排序   
   效果图：![](https://i.niupic.com/images/2020/04/06/7iJr.png)  
3. 课程中心视图：仿制课程中心按课程查看DDL  
   效果图：![](https://i.niupic.com/images/2020/04/06/7iJu.png)  

## 功能  
### 所有人  
1. 注册  
   1. 学号绑定  
   2. 个人昵称  
   3. 个人邮箱(推荐QQ邮箱，可以联合微信进行提醒)   
   4. 校验码：确保学号的真实性——比如航概成绩*出生月日，e.g. 航概成绩90，生日3月6日 = 90*306 = 27540   
2. 个人资料查看修改界面  
3. 添加提醒功能   
4. 删除提醒功能   
5. 修改提醒功能   
6. 添加自定义DDL功能  
7. 通知界面(右上角有通知可以点开查看)  
   效果图：![](https://i.niupic.com/images/2020/04/06/7iJv.png)  
   包括但不限于：
   1. 什么课程发布了新的DDL  
   2. 谁邀请参加会议DDL  

### 课程负责人  
1. 添加课程的DDL   

### 管理员  
1. 指定课程负责人   

## 数据库  
1. 用户表  
   1. user_id  
   2. student_id  
   3. user_name  
   4. email  
2. 课程表  
   1. course_id  
   2. bh_id  
   3. course_name  
   4. course_grade  
3. task (包括作业和自定义事项)   
   1. task_id  
   2. content  
   3. course_id: foreign key (optional)   
4. ddl  
   1. ddl_id  
   2. time  
   3. notification_email  
   6. notification_time (optional)  
   5. notification_content  
   7. task_id (optional)
5. user_course  
   1. user_id, course_id: primary key

## 技术概要  

### Front: Vue.js  

### Backend: Django  

### Database: sqlite3 or MySql  

## API 接口 (维护中)  
|#|Action|url|meaning|others|  
|:--:|:--:|:--:|:--:|:--:|  
|1|post|/api/users/student_id/verify|验证学号||      
|2|post|/api/users/email/verify|给绑定邮箱发送验证码||  
|3|post|/api/users/email/verify/:uid/:verification_code|验证邮箱验证码||  
|4|get|/api/course/:course_id/ddls|获取当前课程下的所有DDL|需要验证当前用户是否有访问该课程的权限|  
|5|get|/api/user/:uid/ddls|获取当前用户的所有DDL||  
|6|get|/api/ddls|||  
|7|get|/api/user/:uid/task/:tid|获取指定任务的内容||  
|8|get|/api/user/:uid/courses|获取用户的所有课程||  
|9|get|/api/user/:uid/|||  
|10|post|/api/course/quit|退出该课程||  
|11|post|/api/course/apply|申请加入课程||  
|12|||||  
|13|||||  
|14|||||  
|15|||||  
|16|||||  
|17|||||  


## 错误处理  
1. 不合法的数据
   1. 填写表单——Vue可以提供表单验证   
   2. 设置的提醒时间错误——提醒时间设置使用控件可以避免  
2. 访问不存在的数据  
   1. 访问不存在的课程编号——404 state  

